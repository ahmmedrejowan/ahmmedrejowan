<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Android Battery View (ABV) - K M Rejowan Ahmmed</title><meta name="description" content="Introduction This library was born out of necessity during the development of the Device Info app. I encountered the challenge&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-black.css"><link rel="stylesheet" href="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-inline-color.css"><link rel="canonical" href="https://cv.rejowan.com/android-battery-view/"><link rel="alternate" type="application/atom+xml" href="https://cv.rejowan.com/feed.xml"><link rel="alternate" type="application/json" href="https://cv.rejowan.com/feed.json"><meta property="og:title" content="Android Battery View (ABV)"><meta property="og:image" content="https://cv.rejowan.com/media/posts/19/Android-Battery-View.svg"><meta property="og:image:width" content="400"><meta property="og:image:height" content="250"><meta property="og:site_name" content="K M Rejowan Ahmmed"><meta property="og:description" content="Introduction This library was born out of necessity during the development of the Device Info app. I encountered the challenge&hellip;"><meta property="og:url" content="https://cv.rejowan.com/android-battery-view/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@ahmmedrejowan"><meta name="twitter:title" content="Android Battery View (ABV)"><meta name="twitter:description" content="Introduction This library was born out of necessity during the development of the Device Info app. I encountered the challenge&hellip;"><meta name="twitter:image" content="https://cv.rejowan.com/media/posts/19/Android-Battery-View.svg"><link rel="shortcut icon" href="https://cv.rejowan.com/media/website/favicon-2.ico" type="image/x-icon"><link rel="preload" href="https://cv.rejowan.com/assets/dynamic/fonts/nunito/nunito.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://cv.rejowan.com/assets/css/style.css?v=d15cc33f3950524260085eb1a1845805"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://cv.rejowan.com/android-battery-view/"},"headline":"Android Battery View (ABV)","datePublished":"2024-03-25T18:22","dateModified":"2024-03-26T11:35","image":{"@type":"ImageObject","url":"https://cv.rejowan.com/media/posts/19/Android-Battery-View.svg","height":250,"width":400},"description":"Introduction This library was born out of necessity during the development of the Device Info app. I encountered the challenge&hellip;","author":{"@type":"Person","name":"K M Rejowan Ahmmed","url":"https://cv.rejowan.com/authors/k-m-rejowan-ahmmed/"},"publisher":{"@type":"Organization","name":"K M Rejowan Ahmmed","logo":{"@type":"ImageObject","url":"https://cv.rejowan.com/media/website/Untitled-design.png","height":512,"width":512}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><style>.fi{fill:none;stroke-linecap:round;stroke-linejoin:round;vertical-align:middle}</style></head><body><div class="content"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://cv.rejowan.com/"><img src="https://cv.rejowan.com/media/website/Untitled-design.png" alt="K M Rejowan Ahmmed" width="512" height="512"></a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle__box"><span class="navbar__toggle__inner">Menu</span></span></button><ul class="navbar__menu"><li><a class="tltp" href="https://cv.rejowan.com/" target="_self" aria-label="Home">Home <span>Home</span></a></li><li><a class="tltp" href="https://cv.rejowan.com/tags/android-app/" target="_self" aria-label="App">App <span>App</span></a></li><li><a class="tltp" href="https://cv.rejowan.com/tags/android-library/" target="_self" aria-label="Library">Library <span>Library</span></a></li><li><a class="tltp" href="https://cv.rejowan.com/media/files/K%20M%20Rejowan%20Ahmmed.pdf" target="_self" aria-label="Resume">Resume <span>Resume</span></a></li><li><a class="tltp" href="https://github.com/ahmmedrejowan" target="_self" aria-label="Github">Github <span>Github</span></a></li><li><a class="tltp" href="https://blog.rejowan.com" target="_self" aria-label="Blog">Blog <span>Blog</span></a></li></ul></nav><a class="logo logo--atbottom" href="./"><img src="https://cv.rejowan.com/media/website/Untitled-design.png" alt="K M Rejowan Ahmmed" width="512" height="512"></a></header></div></div><main class="main"><article class="post"><figure class="post__featured-image post__featured-image--attop"><img src="https://cv.rejowan.com/media/posts/19/Android-Battery-View.svg" loading="eager" height="250" width="400" alt="Android Battery View" aria-describedby="image-caption"></figure><div class="post__meta post__meta--attop"><div class="post__meta--attop__inner"><div class="post__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#tag"/></svg> Published in <a href="https://cv.rejowan.com/tags/android-library/" class="metadata__maintag">Android Library</a></div><div id="image-caption" class="post__featured-image__caption"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#image"/></svg> Android Battery View Android Battery View</div></div></div><div class="main__inner"><header class="post__header"><h1 class="post__title">Android Battery View (ABV)</h1></header><div class="post__entry"><h2>Introduction</h2><p>This library was born out of necessity during the development of the Device Info app. I encountered the challenge of presenting battery level and status in a graphical format, yet struggled to find a suitable option that was easy to implement. Despite discovering a few libraries on GitHub, none fulfilled all my requirements, and to my dismay, many were no longer maintained. Faced with this dilemma, I took matters into my own hands and developed Android Battery View (ABV).<br><br>ABV was created hastily, with plenty of room for improvement. However, it currently serves its purpose as is.</p><h2>Features</h2><p>This one has pretty straightfoward features. </p><p><strong>Charge Level</strong></p><ul><li>Accurately displays the charge level from 1 to 100, with each level depicted on the canvas.</li></ul><p><strong>Stats</strong></p><p>Includes four distinct stats:</p><ul><li><strong>Normal:</strong> Indicates discharging status.</li><li><strong>Charging:</strong> Represents when the device is charging.</li><li><strong>Warning:</strong> Indicates a low battery level, albeit not critically low.</li><li><strong>Critical:</strong> Signals a critically low battery, prompting immediate action to find a charger.</li></ul><p><strong>Customization</strong></p><p>Offers customization options:</p><ul><li>Ability to change the color for all four stats.</li><li>Icons associated with charging, warning, and critical stats can be replaced with custom ones.</li><li>Compatible with both portrait and landscape modes.</li></ul><p><strong>BroadcastReceiver</strong></p><p>Enables attachment to a BroadcastReceiver intent:</p><ul><li>Automatically retrieves battery data from the intent, ensuring seamless integration.</li></ul><h2>Demo</h2><table><thead><tr><th>Normal</th><th>Charging</th><th>Warning</th><th>Critical</th></tr></thead><tbody><tr><td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot1.png"><img loading="lazy" src="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot1.png" alt="Shot1" data-is-external-image="true"></a></td><td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot2.png"><img loading="lazy" src="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot2.png" alt="Shot2" data-is-external-image="true"></a></td><td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot3.png"><img loading="lazy" src="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot3.png" alt="Shot3" data-is-external-image="true"></a></td><td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot4.png"><img loading="lazy" src="https://raw.githubusercontent.com/ahmmedrejowan/AndroidBatteryView/master/files/shot4.png" alt="Shot4" data-is-external-image="true"></a></td></tr></tbody></table><h2>Technologies Used</h2><p>This library is entirely coded in Kotlin, with additional assistance from XML for attribute creation. Android Studio serves as the primary Integrated Development Environment (IDE) for development.</p><p>The source code is proudly hosted on GitHub.</p><h2>Workflow</h2><ol><li><p><strong>Planning</strong>: I began by examining existing repositories to gather ideas on how I wanted the library to function. I meticulously noted the limitations of these projects and devised a plan based on these observations.</p></li><li><p><strong>Draft UI</strong>: Utilizing Figma, I created initial drafts and collected the necessary icons required for the project.</p></li><li><p><strong>Core Coding</strong>: The development process kicked off with the core coding phase in Kotlin. Starting from the basic structure, I gradually built upon it, shaping it into its final form.</p></li><li><p><strong>Finalizing</strong>: With the core functionality in place, I dedicated time to refining the library, incorporating additional tweaks and enhancements to ensure its optimal performance and usability.</p></li></ol><h2>Problem and Solution</h2><p><strong>Canvas Resources</strong></p><p><strong>Problem: </strong>There is a scarcity of resources available on canvas manipulation. While some outdated tutorials exist, they often lack depth and fail to address advanced topics. Consequently, encountering obstacles during development proved challenging, with few avenues for finding solutions beyond basic documentation.</p><p><strong>Solution</strong>: In the face of this challenge, I adopted a hands-on approach. Testing various theories and techniques, I delved into the intricacies of canvas manipulation. Through perseverance and experimentation, I uncovered solutions to the obstacles encountered along the way. Embracing the age-old tactic of brute-force problem-solving, I navigated through the complexities, ultimately overcoming the limitations imposed by the lack of comprehensive resources.</p><h1>How to Use</h1><p>First you need to add the dependency in your <code>build.gradle</code>  or <code>build.gradle.kts</code> and then just add the XML and Kotlin code. </p><p><strong>Dependency</strong></p><pre class="language-kotlin line-numbers"><code>dependencies {
    ...
    implementation("com.github.ahmmedrejowan:AndroidBatteryView:0.1")
}</code></pre><p><strong>XML</strong></p><pre class="language-html line-numbers"><code>&lt;com.rejowan.abv.ABV
    android:id="@+id/abv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    app:abvBatteryOrientation="portrait"
    app:abvRadius="10"
    app:abvSize="50"/&gt;
</code></pre><p><strong>Kotlin</strong></p><pre class="language-kotlin line-numbers"><code>val abv = binding.abv
abv.size = 50
abv.mRadius = 10f
abv.chargeLevel = 50
abv.batteyOrientation = BatteryOrientation.PORTRAIT
abv.isCharging = false</code></pre><p><strong>Broadcast Receiver</strong></p><pre class="language-kotlin line-numbers"><code>class MainActivity : AppCompatActivity() {

    private val binding: ActivityMainBinding by lazy {ActivityMainBinding.inflate(layoutInflater)}

    private val batteryReceiver: BroadcastReceiver = object : BroadcastReceiver() {
        override fun onReceive(context: Context?, intent: Intent?) {
            if (intent!=null){
                binding.abv.attachBatteryIntent(intent)
            }
        }
    }

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(binding.root)
        registerReceiver(batteryReceiver, IntentFilter(Intent.ACTION_BATTERY_CHANGED))

    }

    override fun onDestroy() {
        super.onDestroy()
        unregisterReceiver(batteryReceiver)
    }
}</code></pre><p>You can find the whole documentation here - <a href="https://github.com/ahmmedrejowan/AndroidBatteryView" target="_blank" rel="noopener noreferrer">https://github.com/ahmmedrejowan/AndroidBatteryView</a></p><h2>What I've Learned</h2><ul><li>Developing a solution from scratch requires confronting unfamiliar territories and embracing challenges with an open mind. This experience has made me more receptive to encountering and overcoming new obstacles in future projects.</li><li>The project provided an opportunity to delve deeper into the Android Canvas, enhancing my understanding and proficiency in this area. Experimentation and hands-on exploration have facilitated a more comprehensive grasp of canvas manipulation techniques and capabilities.</li><li>Necessity often drives innovation. By venturing into uncharted territory, I've honed my ability to think creatively and devise novel solutions to complex problems. This mindset of innovation will undoubtedly prove beneficial in tackling future projects.</li></ul><h2>Source Code </h2><p>The source code and the whole project is available on GitHub. </p><p>Repository Link - <a href="https://github.com/ahmmedrejowan/AndroidBatteryView" target="_blank" rel="noopener noreferrer">https://github.com/ahmmedrejowan/AndroidBatteryView</a></p><p>Repo Page - <a href="https://rejowan.com/AndroidBatteryView/" target="_blank" rel="noopener noreferrer">https://rejowan.com/AndroidBatteryView</a></p><h2>Conclusion</h2><p>In conclusion, the process of developing this new solution has been a journey of challenges and learning. Through experimentation and perseverance, I've expanded my knowledge of Android Canvas and cultivated a mindset of innovation. While there were obstacles along the way, overcoming them has equipped me with valuable skills and experiences for future projects.</p><p> </p></div><footer class="post__footer"><div class="post__share"></div></footer></div></article></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><div class="box follow"><a href="https://www.facebook.com/ahmmedrejowan/" class="tltp tltp--top" aria-label="Facebook"><svg><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/ahmmedrejowan" class="tltp tltp--top" aria-label="Twitter"><svg><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://instagram.com/ahmmedrejowan" class="tltp tltp--top" aria-label="Instagram"><svg><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#instagram"/></svg> <span>Instagram</span> </a><a href="https://www.linkedin.com/in/ahmmedrejowan/" class="tltp tltp--top" aria-label="LinkedIn"><svg><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://www.youtube.com/@TranquillyCoding" class="tltp tltp--top" aria-label="Youtube"><svg><use xlink:href="https://cv.rejowan.com/assets/svg/svg-map.svg#youtube"/></svg> <span>Youtube</span></a></div></div></div></div></div><script defer="defer" src="https://cv.rejowan.com/assets/js/scripts.min.js?v=12d8fcd46db8fdc7af6797ec26849875"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-inline-color.min.js"></script><script defer="defer" src="https://cv.rejowan.com/media/plugins/syntaxHighlighter/prism-autolinker.min.js"></script></body></html>